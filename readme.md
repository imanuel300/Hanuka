# 🕎 חנוכיה חכמה - מיקרו:ביט (MicroBit V2)
https://youtube.com/shorts/oV0xpCVNxG4
## 📋 פרטי הפרויקט

**שם הפרויקט:** חנוכיה חכמה אלקטרונית  
**מגיש:** שמואל ימיני  
**מוסד חינוך:** בית ספר תתמ"ד מצפה יריחו  
**תאריך:** חנוכה תשפ"ה  

---

## 🎯 מטרת הפרויקט

פרויקט זה נועד ליצור חנוכיה אלקטרונית אינטראקטיבית המשלבת 9 נורות LED (8 נרות + שמש בכל צד) הנשלטות על ידי מיקרו-בקר MicroBit V2. החנוכיה כוללת מספר מצבי הפעלה: מצב ידני, מצבי דמו מגוונים, ומצב תגובה לקול.

---

## 🔧 רכיבים נדרשים

### חומרה
- **1x MicroBit V2** - מיקרו-בקר חינוכי עם מסך LED 5×5, חיישן קול, ושני כפתורים
- **9x נורות LED** - בצבע לבן/צהוב (מומלץ LED בהירות גבוהה)
- **9x נגדים 200Ω** - להגנה על הנורות וה-MicroBit
- **חוטי חיבור** - להלחמה או מחברי breadboard
- **מקור מתח** - סוללות 2xAAA או כבל USB
- **בסיס חנוכיה** - עשוי עץ

### תוכנה
- **MakeCode** - סביבת תכנות חזותית של Microsoft (https://makecode.microbit.org)
- **קובץ הקוד** - `main.ts` (מצורף)

---

## 📐 מבנה החיבור החשמלי

### על המיקרו:ביט (MicroBit V2)

ה-MicroBit הוא מיקרו-בקר חינוכי המבוסס על ARM Cortex-M4. הוא כולל:
- **25 נוריות LED** (מטריצה 5×5) לתצוגה ויזואלית
- **2 כפתורים** (A ו-B) לשליטה
- **חיישן קול מובנה** (רק ב-V2)
- **20 פיני GPIO** לחיבור רכיבים חיצוניים

### סכמת חיבור הנורות

כל נורה מחוברת כך:

```
MicroBit Pin → נגד 200Ω → LED (רגל ארוכה +) → LED (רגל קצרה -) → GND
```

**פיני החיבור:**
1. P0 → נורה 1 (שמש ימין)
2. P1 → נורה 2
3. P2 → נורה 3
4. P8 → נורה 4
5. P9 → נורה 5
6. P12 → נורה 6
7. P13 → נורה 7
8. P14 → נורה 8


**חשוב:** כל ה-GND של הנורות מחוברים יחד לפין GND של ה-MicroBit.

### למה נגד 200Ω?

- **הגנה על ה-MicroBit:** כל פין GPIO יכול לספק עד 5mA בטוח (מקסימום 15mA)
- **הגנה על הנורה:** נורת LED סטנדרטית צורכת 20mA במתח 2V-3V
- **חישוב:** עם מתח 3.3V ונורה עם צריכה 2V, הנגד מפחית זרם ל-6.5mA בערך
- **תוצאה:** הנורות דולקות היטב ללא סכנה לרכיבים

---

## 🎮 הוראות הפעלה

### העלאת הקוד ל-MicroBit

1. היכנס לאתר https://makecode.microbit.org
2. צור פרויקט חדש או פתח פרויקט קיים
3. העתק את הקוד מקובץ `main.ts`
4. חבר את ה-MicroBit למחשב דרך כבל USB
5. לחץ על **Download** - הקובץ יורד למחשב
6. גרור את הקובץ `.hex` לכונן ה-MICROBIT שנפתח
7. ה-MicroBit יאתחל והתוכנה תתחיל לרוץ

### מצבי הפעלה

#### 🔵 מצב דמו (ברירת מחדל)
כשה-MicroBit נדלק, הוא מפעיל אוטומטית מצגת של 5 דמואים:

1. **Runner (רץ)** 🏃  
   נורה בודדת רצה מנורה 1 לנורה 9 ואז חוזרת

2. **Fill (מילוי)** 📊  
   הנורות מתמלאות בהדרגה מ-0 ל-9 ואז מתרוקנות חזרה ל-0

3. **Random (אקראי)** 🎲  
   מספר אקראי של נורות דולק בכל פעם (20 מחזורים)

4. **Bounce (קפיצה)** ⚡  
   3 נורות "קופצות" קדימה ואחורה

5. **Wave (גל)** 🌊  
   גל אור עובר על הנורות (דומה לגל סינוס)

הדמואים מתחלפים אוטומטית זה אחר זה.

#### 🟢 כפתור A - מצב ידני
- **לחיצה ראשונה:** עצירת הדמו, כיבוי כל הנורות, הדלקת נורה 1
- **לחיצה שנייה:** הדלקת נורה 2 (נורה 1 נשארת דלוקה)
- **לחיצה שלישית:** הדלקת נורה 3 (נורות 1+2 נשארות)
- **וכן הלאה** עד 9 נורות...
- **לחיצה ה-11:** איפוס מלא וחזרה להתחלה

**שימוש בחנוכה:** לחץ על A פעם אחת בכל יום מימי החנוכה!

#### 🔴 כפתור B - מצב קול
- לחיצה על B מפעילה **מצב אינטראקטיבי**
- הנורות נדלקות לפי עוצמת הקול סביב ה-MicroBit
- **שקט** → לא דולקות נורות
- **רעש בינוני** → 3-5 נורות
- **רעש חזק** → כל 9 הנורות!
- אידיאלי לשירה ביחד "מעוז צור", "הנרות הללו", או כל שיר חנוכה

**חזרה למצב ידני:** לחץ שוב על A

---

## 📊 מבנה הקוד

### משתנים עיקריים
```typescript
index          // מונה הנורות במצב ידני
demoMode       // האם מצב דמו פעיל
soundDemoMode  // האם מצב קול פעיל
currentDemo    // איזה דמו רץ כרגע (0-4)
```

### פונקציות עיקריות
- `updateDisplay()` - מעדכן את תצוגת ה-LED 5×5
- `allOff()` - מכבה את כל 9 הנורות
- `demoRunnerStep()` - צעד אחד בדמו Runner
- `demoFillStep()` - צעד אחד בדמו Fill
- `demoRandomStep()` - צעד אחד בדמו Random
- `demoBounceStep()` - צעד אחד בדמו Bounce
- `demoWaveStep()` - צעד אחד בדמו Wave

### לולאה ראשית
הלולאה `basic.forever()` בודקת כל 50-80ms איזה מצב פעיל ומריצה אותו.

---

## 🛠️ פתרון בעיות

| בעיה | פתרון |
|------|--------|
| **נורה לא דולקת** | בדוק חיבור חוטים, קוטביות הנורה, ונגד תקין |
| **נורה דולקת חלש** | החלף נגד ל-150Ω או בדוק מתח סוללות |
| **מספר נורות דולקות ביחד** | בדוק short בין חוטים |
| **מצב קול לא מגיב** | ודא שיש MicroBit V2 (לא V1) |
| **כפתורים לא מגיבים** | נסה לאתחל את ה-MicroBit (נתק וחבר USB) |

---


## 📜 רישיון

פרויקט זה הוא בקוד פתוח לשימוש חינוכי.  
מותר להעתיק, לשנות ולהפיץ עם ציון המקור.

---

## 📞 יצירת קשר

**שמואל ימיני**  
בית ספר תתמ"ד מצפה יריחו

---

## 🕎 חג חנוכה שמח!

> "נס גדול היה פה" - ויהי אור! 💡✨
